{"version":3,"sources":["js/helper/waitImg.js","index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["module","exports","element","callback","allImgsLength","allImgsLoaded","allImgs","filtered","Array","prototype","filter","call","querySelectorAll","item","src","img","Image","complete","forEach","push","length","image","addEventListener","data","objects","btns","document","getElementsByTagName","checks","getElementsByClassName","searchInput","currentKeyword","currentCheckedGrades","currentPos","shiftDown","colors","words","posOpr","posSimplifedMap","ËÇ©","‰∏ä","‰∏ã","ËÖ∞","Èûã","ÂÖ®","ÈÉ®‰Ωç","Ê≠¶","Áß∞","ÈïØ","Èìæ","Â∑¶","Êàí","ËÄ≥","Âè≥","btnOpr","ÂÜ∞","ÁÅ´","Êöó","ÂÖâ","Âäõ","Êô∫","‰Ωì","Á≤æ","Áâ©","È≠î","Áã¨","keyOpr","b","h","a","g","q","l","z","t","j","w","m","d","colorTem","white","blue","purples","pink","orange","colorOpr","ÁôΩ","Ëìù","Á¥´","Á≤â","Ê©ô","targets","cards","CameraControls","install","THREE","width","window","innerWidth","height","innerHeight","clock","Clock","scene","Scene","camera","PerspectiveCamera","renderer","CSS3DRenderer","position","setSize","getElementById","appendChild","domElement","cameraControls","minDistance","maxDistance","enableDamping","dollyToCursor","verticalDragToForward","azimuthRotateSpeed","polarRotateSpeed","dollySpeed","truckSpeed","dampingFactor","initCard","i","createElement","className","title","textContent","style","color","details","innerHTML","onmouseenter","e","innerText","onmouseleave","object","CSS3DObject","x","Math","random","y","add","Object3D","floor","userData","console","log","setupEvent","hasOwnProperty","reset","value","togglePosPick","activeElement","blur","backgroundColor","target","body","onselectstart","onkeydown","key","click","focus","keyCode","children","code","onkeyup","onWindowResize","s","classList","remove","getCurrentPos","getCurrentSearchWords","getCheckedColors","cp","offset","pos","undefined","search","includes","transform","duration","TWEEN","removeAll","Tween","to","easing","Easing","Exponential","InOut","start","rotation","onUpdate","render","aspect","updateProjectionMatrix","r","Object","keys","getCurrentKeywords","animate","delta","getDelta","elapsed","getElapsedTime","updated","update","requestAnimationFrame","initBackground","VANTA","CLOUDS","el","fetch","mode","then","json","repeat","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","getParents","modules","parents","k","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"gh-pages.e31bb0bc.js","sourceRoot":"..","sourcesContent":["'use strict'\r\n\r\nmodule.exports = function(element, callback) {\r\n    \r\n\tvar allImgsLength = 0\r\n\tvar allImgsLoaded = 0\r\n\tvar allImgs = []\r\n\r\n\tvar filtered = Array.prototype.filter.call(\r\n\t\telement.querySelectorAll('img'),\r\n\t\tfunction(item) {\r\n\t\t\tif (item.src === '') {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\t// Firefox's `complete` property will always be `true` even if the image has not been downloaded.\r\n\t\t\t// Doing it this way works in Firefox.\r\n\t\t\tvar img = new Image()\r\n\t\t\timg.src = item.src\r\n\t\t\treturn !img.complete\r\n\t\t}\r\n\t)\r\n\r\n\tfiltered.forEach(function(item) {\r\n\t\tallImgs.push({\r\n\t\t\tsrc: item.src,\r\n\t\t\telement: item\r\n\t\t})\r\n\t})\r\n\r\n\tallImgsLength = allImgs.length\r\n\tallImgsLoaded = 0\r\n\r\n\t// If no images found, don't bother.\r\n\tif (allImgsLength === 0) {\r\n\t\tcallback.call(element)\r\n\t}\r\n\r\n\tallImgs.forEach(function(img) {\r\n\t\tvar image = new Image()\r\n\r\n\t\t// Handle the image loading and error with the same callback.\r\n\t\timage.addEventListener('load', function() {\r\n\t\t\tallImgsLoaded++\r\n\r\n\t\t\tif (allImgsLoaded === allImgsLength) {\r\n\t\t\t\tcallback.call(element)\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\timage.src = img.src\r\n\t})\r\n}\r\n","import * as TWEEN from 'Tween'\r\n// import data from './final.json'\r\n// console.log('Dataloading ... OK')\r\nimport imgWaiter from './js/helper/waitImg'\r\nimport CameraControls from 'camera-controls'\r\n\r\n// import TA from 'text-animate'\r\n\r\n// const anim = TA.controller()\r\n// const seed = Math.random()\r\n\r\n// const eTextAni = {\r\n// \tetchSpeed: 10 + Math.round(Math.random() * 4),\r\n// \ttargetBGColor: 'rgba(0,255,0,0)',\r\n// \ttargetFGColor: 'rgba(0,255,0,1)',\r\n// \tetchBGColor: 'rgb(0,255,0)',\r\n// \tetchFGColor: 'rgb(0,255,0)',\r\n// \tseed\r\n// }\r\n\r\nlet data\r\nlet objects = []\r\nlet btns = document.getElementsByTagName('button')\r\nlet checks = document.getElementsByClassName('box')\r\nlet searchInput = document.getElementsByTagName('input')[0]\r\nlet currentKeyword = ''\r\nlet currentCheckedGrades = []\r\nlet currentPos = ''\r\n\r\nlet shiftDown = false\r\n\r\n//material colors\r\nconst colors = ['#9E9E9E', '#2196F3', '#9C27B0', '#E91E63', '#FF9800']\r\n\r\nconst words = [\r\n\t'ÂÜ∞Â±ûÊÄßÂº∫Âåñ',\r\n\t'ÁÅ´Â±ûÊÄßÂº∫Âåñ',\r\n\t'ÊöóÂ±ûÊÄßÂº∫Âåñ',\r\n\t'ÂÖâÂ±ûÊÄßÂº∫Âåñ',\r\n\t'ÊâÄÊúâÂ±ûÊÄßÂº∫Âåñ',\r\n\t'ÂäõÈáè',\r\n\t'Êô∫Âäõ',\r\n\t'‰ΩìÂäõ',\r\n\t'Á≤æÁ•û',\r\n\t'Áâ©ÁêÜÊîªÂáªÂäõ',\r\n\t'È≠îÊ≥ïÊîªÂáªÂäõ',\r\n\t'Áã¨Á´ãÊîªÂáªÂäõ'\r\n]\r\n\r\nconst posOpr = {\r\n\t49: 'Â§¥ËÇ©',\r\n\t50: '‰∏äË°£',\r\n\t81: '‰∏ãË£Ö',\r\n\t87: 'ËÖ∞Â∏¶',\r\n\t65: 'Èûã',\r\n\t83: 'ÂÖ®',\r\n\t51: 'Ê≠¶Âô®',\r\n\t52: 'Áß∞Âè∑',\r\n\t69: 'ÊâãÈïØ',\r\n\t82: 'È°πÈìæ',\r\n\t68: 'ËæÖÂä©Ë£ÖÂ§á',\r\n\t70: 'ÊàíÊåá',\r\n\t67: 'ËÄ≥ÁéØ',\r\n\t86: 'È≠îÊ≥ïÁü≥'\r\n}\r\n\r\nconst posSimplifedMap = {\r\n\tËÇ©: 'Â§¥ËÇ©',\r\n\t‰∏ä: '‰∏äË°£',\r\n\t‰∏ã: '‰∏ãË£Ö',\r\n\tËÖ∞: 'ËÖ∞Â∏¶',\r\n\tÈûã: 'Èûã',\r\n\tÂÖ®: 'ÈÉ®‰Ωç',\r\n\tÈÉ®‰Ωç: '',\r\n\tÊ≠¶: 'Ê≠¶Âô®',\r\n\tÁß∞: 'Áß∞Âè∑',\r\n\tÈïØ: 'ÊâãÈïØ',\r\n\tÈìæ: 'È°πÈìæ',\r\n\tÂ∑¶: 'ËæÖÂä©Ë£ÖÂ§á',\r\n\tÊàí: 'ÊàíÊåá',\r\n\tËÄ≥: 'ËÄ≥ÁéØ',\r\n\tÂè≥: 'È≠îÊ≥ïÁü≥'\r\n}\r\n\r\nconst btnOpr = {\r\n\tÂÜ∞: words[0],\r\n\tÁÅ´: words[1],\r\n\tÊöó: words[2],\r\n\tÂÖâ: words[3],\r\n\tÂÖ®: words[4],\r\n\tÂäõ: words[5],\r\n\tÊô∫: words[6],\r\n\t‰Ωì: words[7],\r\n\tÁ≤æ: words[8],\r\n\tÁâ©: words[9],\r\n\tÈ≠î: words[10],\r\n\tÁã¨: words[11]\r\n}\r\nconst keyOpr = {\r\n\tb: words[0],\r\n\th: words[1],\r\n\ta: words[2],\r\n\tg: words[3],\r\n\tq: words[4],\r\n\tl: words[5],\r\n\tz: words[6],\r\n\tt: words[7],\r\n\tj: words[8],\r\n\tw: words[9],\r\n\tm: words[10],\r\n\td: words[11]\r\n}\r\n\r\nconst colorTem = {\r\n\twhite: colors[0],\r\n\tblue: colors[1],\r\n\tpurples: colors[2],\r\n\tpink: colors[3],\r\n\torange: colors[4]\r\n}\r\nconst colorOpr = {\r\n\tÁôΩ: colors[0],\r\n\tËìù: colors[1],\r\n\tÁ¥´: colors[2],\r\n\tÁ≤â: colors[3],\r\n\tÊ©ô: colors[4]\r\n}\r\n\r\nlet targets = { cards: [] }\r\n\r\n//setup cameracontrols\r\nCameraControls.install({ THREE: THREE })\r\nconst width = window.innerWidth\r\nconst height = window.innerHeight\r\n\r\nconst clock = new THREE.Clock()\r\nconst scene = new THREE.Scene()\r\nconst camera = new THREE.PerspectiveCamera(45, width / height, 0.01, 100)\r\nconst renderer = new THREE.CSS3DRenderer()\r\ncamera.position.z = 6000\r\nrenderer.setSize(width, height)\r\ndocument.getElementById('container').appendChild(renderer.domElement)\r\n// renderer.setClearColor( 0xffaa00, 1);\r\n\r\nconst cameraControls = new CameraControls(camera, renderer.domElement)\r\n// cameraControls.addEventListener('change', render)\r\n// cameraControls = new OrbitControls(camera, renderer.domElement)\r\ncameraControls.minDistance = 10\r\ncameraControls.maxDistance = 6000\r\n// cameraControls.keyPanSpeed = 100\r\n// cameraControls.zoomSpeed = 1\r\ncameraControls.enableDamping = true\r\ncameraControls.dollyToCursor = true\r\ncameraControls.verticalDragToForward = true\r\ncameraControls.azimuthRotateSpeed = 1\r\ncameraControls.polarRotateSpeed = 1\r\ncameraControls.dollySpeed = 1\r\ncameraControls.truckSpeed = 1\r\n\r\n// cameraControls.rotateSpeed = 0.2\r\ncameraControls.dampingFactor = 0.1\r\n\r\nfunction initCard() {\r\n\t// cards init\r\n\r\n\tfor (const i in data) {\r\n\t\tvar img = document.createElement('img')\r\n\t\timg.className = 'img'\r\n\t\timg.src = data[i]['url']\r\n\r\n\t\tvar element = document.createElement('div')\r\n\t\telement.className = 'element'\r\n\t\telement.appendChild(img)\r\n\r\n\t\tvar title = document.createElement('div')\r\n\t\ttitle.className = 'title'\r\n\t\ttitle.textContent = data[i]['name']\r\n\t\ttitle.style.color = colorTem[data[i]['grade']]\r\n\t\telement.appendChild(title)\r\n\r\n\t\t// var symbol = document.createElement('div')\r\n\t\t// symbol.className = 'symbol'\r\n\t\t// symbol.textContent = table[i]\r\n\t\t// element.appendChild(symbol)\r\n\r\n\t\tvar details = document.createElement('div')\r\n\t\tdetails.className = 'details'\r\n\t\tdetails.innerHTML =\r\n\t\t\tdata[i]['position'] +\r\n\t\t\t'<br>' +\r\n\t\t\tdata[i]['p_type'] +\r\n\t\t\t'<br>' +\r\n\t\t\tdata[i]['min_p'] +\r\n\t\t\t' ===> ' +\r\n\t\t\tdata[i]['max_p']\r\n\t\telement.appendChild(details)\r\n\r\n\t\telement.onmouseenter = e => {\r\n\t\t\tdocument.querySelectorAll('h3').forEach((e, d) => {\r\n\t\t\t\te.innerText =\r\n\t\t\t\t\tdata[i][\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t'upgradable',\r\n\t\t\t\t\t\t\t'e_pkc',\r\n\t\t\t\t\t\t\t'hechengqi',\r\n\t\t\t\t\t\t\t'hecheng',\r\n\t\t\t\t\t\t\t'extra'\r\n\t\t\t\t\t\t][d]\r\n\t\t\t\t\t]\r\n\r\n\t\t\t\t// anim.add(TA.text(e, eTextAni))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\telement.onmouseleave = e => {\r\n\t\t\tdocument.querySelectorAll('h3').forEach(e => {\r\n\t\t\t\te.innerText = ''\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar object = new THREE.CSS3DObject(element)\r\n\t\tobject.position.x = Math.random() * 10000 - 1582 * 4\r\n\t\tobject.position.y = Math.random() * 10000 - 990 * 4\r\n\t\tobject.position.z = Math.random() * 10000\r\n\t\tscene.add(object)\r\n\r\n\t\tobjects.push(object)\r\n\r\n\t\t//\r\n\r\n\t\tvar object = new THREE.Object3D()\r\n\t\t// object.position.x = (table[i + 3] * 226) - 1330\r\n\t\tobject.position.x = (i % 30) * 226 - 1582 * 2\r\n\t\t// object.position.y = - (table[i + 4] * 288) + 990\r\n\t\tobject.position.y = -(Math.floor(i / 30) * 288) + 990 * 2\r\n\r\n\t\tobject.userData = data[i]\r\n\t\ttargets.cards.push(object)\r\n\r\n\t\telement.addEventListener(\r\n\t\t\t'click',\r\n\t\t\t(e, i) => {\r\n\t\t\t\tconsole.log(e, i)\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t)\r\n\t}\r\n\r\n\t// transform(targets.cards, 1000)\r\n\r\n\tconsole.log('Card img url set... OK')\r\n}\r\n\r\nfunction setupEvent() {\r\n\tfor (const i in btns) {\r\n\t\tif (btns.hasOwnProperty(i)) {\r\n\t\t\tconst e = btns[i]\r\n\t\t\te.addEventListener('click', () => {\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\treset()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tsearchInput.value = btnOpr[e.innerText]\r\n\t\t\t\tfilter()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tdocument.getElementsByClassName('pos')[0].addEventListener(\r\n\t\t'click',\r\n\t\t() => {\r\n\t\t\ttogglePosPick()\r\n\t\t},\r\n\t\tfalse\r\n\t)\r\n\t//fix focus\r\n\tdocument\r\n\t\t.getElementById('container')\r\n\t\t.addEventListener('click', () => document.activeElement.blur(), false)\r\n\t// toggle backgroundColor\r\n\tfor (const i in checks) {\r\n\t\tif (checks.hasOwnProperty(i)) {\r\n\t\t\tconst e = checks[i]\r\n\t\t\tchecks[i].style.backgroundColor =\r\n\t\t\t\tchecks[i].style.backgroundColor === ''\r\n\t\t\t\t\t? colorOpr[e.innerText]\r\n\t\t\t\t\t: ''\r\n\t\t\te.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tm => {\r\n\t\t\t\t\tm.target.style.backgroundColor =\r\n\t\t\t\t\t\tm.target.style.backgroundColor === ''\r\n\t\t\t\t\t\t\t? colorOpr[m.target.innerText]\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\tfilter()\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\tdocument.body.onselectstart = () => false\r\n\tdocument.querySelectorAll('a').forEach((e, i) => {\r\n\t\t//skip last one\r\n\t\tif (i === 14) return\r\n\t\te.addEventListener(\r\n\t\t\t'click',\r\n\t\t\t() => {\r\n\t\t\t\tdocument.querySelectorAll('a')[14].innerText =\r\n\t\t\t\t\tposSimplifedMap[e.innerText]\r\n\t\t\t\ttogglePosPick()\r\n\t\t\t\tfilter()\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t)\r\n\t})\r\n\t//key bind\r\n\tdocument.onkeydown = e => {\r\n\t\t//prevent filter when input focused\r\n\t\tif (document.activeElement === searchInput) {\r\n\t\t\tif (e.key === 'Enter') {\r\n\t\t\t\tsearchInput.blur()\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\t//key event\r\n\t\tif (e.key in keyOpr && !shiftDown) {\r\n\t\t\tsearchInput.value = keyOpr[e.key]\r\n\t\t\tfilter()\r\n\t\t} else if (\r\n\t\t\te.key === '1' ||\r\n\t\t\te.key === '2' ||\r\n\t\t\te.key === '3' ||\r\n\t\t\te.key === '4' ||\r\n\t\t\te.key === '5'\r\n\t\t) {\r\n\t\t\tchecks[e.key - 1].click()\r\n\t\t} else if (e.key === 'Enter') {\r\n\t\t\tsearchInput.focus()\r\n\t\t} else if (e.key === 'Shift') {\r\n\t\t\tif (!shiftDown) {\r\n\t\t\t\tshiftDown = true\r\n\t\t\t\ttogglePosPick()\r\n\t\t\t}\r\n\t\t} else if (e.keyCode in posOpr && shiftDown) {\r\n\t\t\tdocument.getElementsByClassName('pos')[0].children[0].innerText =\r\n\t\t\t\tposOpr[e.keyCode]\r\n\t\t\tfilter()\r\n\t\t} else if (e.code === 'Space') {\r\n\t\t\treset()\r\n\t\t}\r\n\t}\r\n\tdocument.onkeyup = e => {\r\n\t\t//prevent filter when input focused\r\n\t\tif (document.activeElement === searchInput) return\r\n\t\tif (e.key === 'Shift') {\r\n\t\t\tshiftDown = false\r\n\t\t\ttogglePosPick()\r\n\t\t}\r\n\t}\r\n\tsearchInput.addEventListener('change', () => {\r\n\t\tfilter()\r\n\t})\r\n\twindow.addEventListener('resize', onWindowResize, false)\r\n\tconsole.log('Event setup ... OK')\r\n}\r\n\r\nfunction togglePosPick() {\r\n\tlet s = document.getElementsByClassName('whole-p')[0]\r\n\tif (s.classList.length > 1) {\r\n\t\ts.classList.remove('hidden')\r\n\t} else {\r\n\t\ts.classList.add('hidden')\r\n\t}\r\n}\r\n\r\nfunction getCurrentPos() {\r\n\treturn document.getElementsByClassName('pos')[0].children[0].innerText\r\n}\r\n\r\nfunction getCurrentSearchWords() {\r\n\treturn searchInput.value\r\n}\r\n\r\nfunction filter() {\r\n\tcameraControls.reset(true)\r\n\r\n\tcurrentKeyword = getCurrentSearchWords()\r\n\tcurrentCheckedGrades = getCheckedColors()\r\n\tlet cp = getCurrentPos()\r\n\tcurrentPos = cp === 'ÂÖ®' || cp === 'ÈÉ®‰Ωç' ? '' : cp\r\n\r\n\tconsole.log(currentKeyword, currentCheckedGrades, currentPos)\r\n\tvar offset = 0\r\n\tfor (let i = 0; i < targets.cards.length; i++) {\r\n\t\tconst e = targets.cards[i]\r\n\t\tconst pos =\r\n\t\t\te.userData['position'] === undefined ? '' : e.userData['position']\r\n\t\tif (\r\n\t\t\te.userData['p_type'].search(currentKeyword) > -1 &&\r\n\t\t\tcurrentCheckedGrades.includes(e.userData['grade']) &&\r\n\t\t\tpos.search(currentPos) > -1\r\n\t\t) {\r\n\t\t\ttargets.cards[i].position.x = ((i - offset) % 30) * 226 - 1582 * 2\r\n\t\t\ttargets.cards[i].position.y =\r\n\t\t\t\t-(Math.floor((i - offset) / 30) * 288) + 990 * 2\r\n\t\t\ttargets.cards[i].position.z = 0\r\n\t\t} else {\r\n\t\t\ttargets.cards[i].position.x = 30 * 226 - 1582 * 2 - offset / 5\r\n\t\t\ttargets.cards[i].position.y =\r\n\t\t\t\t(-data.length / 30) * 288 + 990 * 2 - offset / 10\r\n\t\t\ttargets.cards[i].position.z = offset / 5\r\n\t\t\toffset++\r\n\t\t}\r\n\t}\r\n\r\n\ttransform(targets.cards, 500)\r\n}\r\n\r\nfunction reset() {\r\n\t//data\r\n\tcurrentKeyword = ''\r\n\t//ui\r\n\tsearchInput.value = ''\r\n\r\n\t//data\r\n\tfor (const i in checks) {\r\n\t\tif (checks.hasOwnProperty(i)) {\r\n\t\t\tconst e = checks[i]\r\n\t\t\tchecks[i].style.backgroundColor = colorOpr[e.innerText]\r\n\t\t}\r\n\t}\r\n\t//ui\r\n\tcurrentCheckedGrades = ['white', 'blue', 'purples', 'pink', 'orange']\r\n\r\n\t//data\r\n\tcurrentPos = ''\r\n\t//ui\r\n\tdocument.getElementsByClassName('pos')[0].children[0].innerText = 'ÈÉ®‰Ωç'\r\n\r\n\tfilter()\r\n\t// for (let i = 0; i < targets.cards.length; i++) {\r\n\t// \ttargets.cards[i].position.x = (i % 30) * 226 - 1582 * 2\r\n\t// \ttargets.cards[i].position.y = -(Math.floor(i / 30) * 288) + 990 * 2\r\n\t// }\r\n\t// transform(targets.cards, 500)\r\n}\r\n\r\nfunction transform(targets, duration) {\r\n\tTWEEN.removeAll()\r\n\r\n\tfor (var i = 0; i < objects.length; i++) {\r\n\t\tvar object = objects[i]\r\n\t\tvar target = targets[i]\r\n\r\n\t\tnew TWEEN.Tween(object.position)\r\n\t\t\t.to(\r\n\t\t\t\t{\r\n\t\t\t\t\tx: target.position.x,\r\n\t\t\t\t\ty: target.position.y,\r\n\t\t\t\t\tz: target.position.z\r\n\t\t\t\t},\r\n\t\t\t\tMath.random() * duration + duration\r\n\t\t\t)\r\n\t\t\t.easing(TWEEN.Easing.Exponential.InOut)\r\n\t\t\t.start()\r\n\r\n\t\tnew TWEEN.Tween(object.rotation)\r\n\t\t\t.to(\r\n\t\t\t\t{\r\n\t\t\t\t\tx: target.rotation.x,\r\n\t\t\t\t\ty: target.rotation.y,\r\n\t\t\t\t\tz: target.rotation.z\r\n\t\t\t\t},\r\n\t\t\t\tMath.random() * duration + duration\r\n\t\t\t)\r\n\t\t\t.easing(TWEEN.Easing.Exponential.InOut)\r\n\t\t\t.start()\r\n\t}\r\n\r\n\tnew TWEEN.Tween(this)\r\n\t\t.to({}, duration * 2)\r\n\t\t.onUpdate(render)\r\n\t\t.start()\r\n}\r\n\r\nfunction onWindowResize() {\r\n\tcamera.aspect = window.innerWidth / window.innerHeight\r\n\tcamera.updateProjectionMatrix()\r\n\r\n\trenderer.setSize(window.innerWidth, window.innerHeight)\r\n\r\n\trender()\r\n}\r\n\r\nfunction getCheckedColors() {\r\n\tlet r = []\r\n\tfor (const i in checks) {\r\n\t\tif (checks.hasOwnProperty(i)) {\r\n\t\t\tconst e = checks[i]\r\n\t\t\tif (e.style.backgroundColor !== '') {\r\n\t\t\t\tr.push(Object.keys(colorTem)[i])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn r\r\n}\r\n\r\nfunction getCurrentKeywords() {\r\n\treturn currentKeyword\r\n}\r\n\r\nfunction animate() {\r\n\tconst delta = clock.getDelta()\r\n\tconst elapsed = clock.getElapsedTime()\r\n\tconst updated = cameraControls.update(delta)\r\n\r\n\trequestAnimationFrame(animate)\r\n\tTWEEN.update()\r\n\r\n\tif (updated) {\r\n\t\trenderer.render(scene, camera)\r\n\t\tconsole.log('rendered')\r\n\t}\r\n\t// cameraControls.update()\r\n}\r\n\r\nfunction render() {\r\n\trenderer.render(scene, camera)\r\n}\r\n\r\nfunction initBackground() {\r\n\tVANTA.CLOUDS({ el: '#container' })\r\n\tconsole.log('Background ... OK')\r\n}\r\n\r\n// https://obs-e263.obs.ap-southeast-1.myhuaweicloud.com/final.json\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\t// TODO: use svg or simple ascii animation as loading effect.\r\n\r\n\t// consider use full site cdn\r\n\tfetch('https://obs-e263.obs.ap-southeast-1.myhuaweicloud.com/final.json', {\r\n\t\tmode: 'cors'\r\n\t})\r\n\t\t.then(r => r.json())\r\n\t\t.then(d => {\r\n\t\t\tconsole.log('data ... OK')\r\n\t\t\tdata = d\r\n\t\t\tinitBackground()\r\n\t\t\tinitCard()\r\n\t\t\tsetupEvent()\r\n\t\t\tconsole.log('gpu resources ... OK')\r\n\t\t\ttransform(targets.cards, 1000)\r\n\t\t\tTWEEN.update()\r\n\t\t\tconsole.log('image load ... OK')\r\n\t\t\timgWaiter(document, () => {\r\n\t\t\t\ttransform(targets.cards, 1000)\r\n\t\t\t\tanimate()\r\n\t\t\t\tconst s =\r\n\t\t\t\t\t'-'.repeat(129) +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\t'|' +\r\n\t\t\t\t\t'\tÊ≤ôÈõïÁôæÂ∫¶ocr apiËØÜÂà´ÔºåÊúâ‰∏ÄÂÆöËØØÂ∑ÆÔºåÊä•ÂëäÊï∞ÊçÆÈîôËØØÊàñBUGÂèØ‰ª•mailÁªôÊàëÔºöcc@ccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.cc\t|\\n' +\r\n\t\t\t\t\t'|' +\r\n\t\t\t\t\t'\tÁ´ãÂç≥‰øÆÂ§çÔºÅ(Â¶ÇÊûúÊàëËøòÊ≤°ËÑ±ÂùëÁöÑËØù...)'+' '.repeat(95)+'|\\n' +\r\n\t\t\t\t\t'-'.repeat(129)\r\n\t\t\t\tconsole.log(s)\r\n\t\t\t})\r\n\t\t})\r\n})\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ‚ú® Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] üö®  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">üö®</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}